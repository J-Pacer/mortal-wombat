{"version":3,"file":"static/js/223.96a2734f.chunk.js","mappings":"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","sources":["Components/ErrorBanner.js","hooks/useStatePersist.js","Components/Chat.js","Components/Login.js","hooks/useUserIndex.js","Components/WorldEditor.js","Components/Toolbar.js","hooks/useCoords.js","Components/AutoHeightText.js","Components/Todos.js","Components/Nav.js","Components/FormThing.js","Components/TileTypeEditor.js","Components/Pane.js","Components/GameConfig.js","hooks/useLocationHash.js","Components/App.js","utils/makePanes.js","hooks/useErrors.js","hooks/useUser.js","hooks/useTileTypes.js","hooks/useWorld.js","editorMain.js","firebase.js","utils.js"],"sourcesContent":["import './errorBanner.css';\n\nexport const ErrorBanner = ({errors, clearError}) =>\n  Object.keys(errors).length > 0 && (\n    <div className=\"errorBanner\">\n      {Object.entries(errors).map(([key, err]) => (\n        <div key={key}>\n          {err} <a onClick={() => clearError(key)}>[x]</a>\n        </div>\n      ))}\n    </div>\n  );\n","import {useEffect, useState} from 'react';\n\nconst parseJSON = (str, defaultVal) => {\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    console.error(e);\n    return defaultVal;\n  }\n};\n\nexport const useStatePersist = (key, initial) => {\n  const [val, setVal] = useState(\n    localStorage[key] === undefined\n      ? initial\n      : parseJSON(localStorage[key], initial)\n  );\n\n  useEffect(() => {\n    localStorage[key] = JSON.stringify(val);\n  }, [val]);\n\n  return [val, setVal];\n};\n","import {serverTimestamp} from 'firebase/database';\nimport {useEffect, useRef, useState} from 'react';\nimport {listen, update} from '../firebase';\nimport {useStatePersist} from '../hooks/useStatePersist';\nimport {groupBy, guid, objToArr} from '../utils';\nimport './chat.css';\n\nconst listenToMessages = (onChange, onError) =>\n  listen('messages', onChange, onError);\n\nconst sendMessage = (msg, user, onError) =>\n  update(\n    {\n      [`messages/${guid()}`]: {\n        message: msg.trim(),\n        user: user.email,\n        tstamp: serverTimestamp(),\n      },\n    },\n    onError\n  );\n\nconst gapTime = 5 * 60_000; // ten minutes\n\nconst toTime = (tstamp) => {\n  const d = new Date(tstamp);\n  const h = d.getHours();\n  return `${h % 12}:${d.getMinutes()}${h >= 12 ? 'p' : 'a'}`;\n};\n\nconst getDate = (tstamp) => new Date(tstamp).toLocaleDateString();\n\nexport const Chat = ({onError, user, userIndex}) => {\n  const [messages, setMessages] = useState({});\n  const [msg, setMsg] = useStatePersist('chatMsg', '');\n  const scrollBoxRef = useRef();\n  const inputRef = useRef();\n\n  useEffect(\n    () =>\n      listenToMessages((newMessages) => {\n        setMessages(newMessages);\n        setTimeout(() => {\n          if (scrollBoxRef.current) {\n            scrollBoxRef.current.scrollTop = scrollBoxRef.current.scrollHeight;\n          }\n        }, 1);\n      }, onError),\n    []\n  );\n\n  const groups = groupBy(({tstamp}) => getDate(tstamp), objToArr(messages));\n\n  return (\n    <div\n      ref={scrollBoxRef}\n      className=\"chat\"\n      onClick={() => inputRef.current.focus()}\n    >\n      {Object.entries(groups).map(([date, messages]) => (\n        <div key={date}>\n          <div className=\"date tstamp\">{date}</div>\n          {messages.map(({key, message, user, tstamp}, i, arr) => (\n            <div\n              className={\n                'message' +\n                (i && tstamp - arr[i - 1].tstamp > gapTime ? ' gap' : '')\n              }\n              key={key}\n            >\n              <span className=\"user\">{userIndex[user]?.name || user}:</span>\n              {message}\n              <span className=\"tstamp\">{toTime(tstamp)}</span>\n            </div>\n          ))}\n        </div>\n      ))}\n      <textarea\n        ref={inputRef}\n        placeholder=\"Type here and press enter to chat...\"\n        value={msg}\n        onChange={(e) => setMsg(e.target.value.replace(/^\\s+/, ''))}\n        onKeyUp={(e) => {\n          if (e.key === 'Enter' && msg) {\n            sendMessage(msg, user, onError);\n            setMsg('');\n          }\n        }}\n      />\n    </div>\n  );\n};\n","import {useState} from 'react';\nimport {logIn} from '../firebase';\nimport './login.css';\n\nexport const Login = ({onError}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  return (\n    <div style={{width: 300, margin: '50px auto'}}>\n      <form\n        className=\"login\"\n        onSubmit={async (e) => {\n          e.preventDefault();\n          try {\n            await logIn(email, password);\n          } catch (e) {\n            onError(e.message);\n          }\n        }}\n      >\n        {/* <h1>Log In</h1> */}\n        <input\n          type=\"email\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button style={{width: '100%'}}>Log In</button>\n      </form>\n\n      {/* <div style={{margin: '30px 0'}}>or</div>\n\n      <form\n        className=\"login\"\n        onSubmit={async (e) => {\n          e.preventDefault();\n          try {\n            await logIn(email, password);\n          } catch (e) {\n            onError(e.message);\n          }\n        }}\n      >\n        <h1>Register</h1>\n        <input\n          type=\"email\"\n          placeholder=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button>Register</button>\n      </form> */}\n    </div>\n  );\n};\n","import {useEffect, useState} from 'react';\nimport {indexBy} from '../utils';\nimport {listen} from '../firebase';\n\nconst indexUsers = (users) => indexBy((u) => u.email, Object.values(users));\n\nexport const useUserIndex = (onError) => {\n  const [userIndex, setUserIndex] = useState({});\n  useEffect(\n    () => listen('users', (users) => setUserIndex(indexUsers(users)), onError),\n    []\n  );\n  return userIndex;\n};\n","import {useMemo, useRef} from 'react';\nimport {updateWithHistory} from '../firebase';\nimport {indexBy, objToArr} from '../utils';\nimport './worldEditor.css';\n\nconst placeTile = (x, y, id, user, onError) =>\n  updateWithHistory(\n    {[`world/${x}_${y}`]: id === '_delete' ? null : {x, y, tileType: id}},\n    user,\n    onError\n  );\n\nconst getCoords = (e, scale, xCoord, yCoord) => ({\n  x: Math.floor((e.clientX - innerWidth / 2) / scale) + xCoord,\n  y: Math.floor((e.clientY - innerHeight / 2) / scale) + yCoord,\n});\n\nexport const getBackground = (type) => ({\n  background: type.image\n    ? `no-repeat center/contain url(${type.image})`\n    : type.color,\n});\n\nexport const WorldEditor = ({\n  world,\n  tileTypes,\n  selectedTileTypeId,\n  onError,\n  xCoord,\n  yCoord,\n  scale,\n  user,\n}) => {\n  // using a ref is much more performant than keeping mouse coords in state\n  const ghostRef = useRef();\n\n  const tileTypeIndex = useMemo(\n    () => indexBy((t) => t.id, objToArr(tileTypes)),\n    [tileTypes]\n  );\n\n  const onClick = (e) => {\n    const {x, y} = getCoords(e, scale, xCoord, yCoord);\n    const currentType = world[`${x}_${y}`]?.tileType;\n    if (\n      (currentType || selectedTileTypeId !== '_delete') &&\n      currentType !== selectedTileTypeId\n    ) {\n      placeTile(x, y, selectedTileTypeId, user, onError);\n    }\n  };\n\n  const onMouseMove = (e) => {\n    const {x, y} = getCoords(e, scale, xCoord, yCoord);\n    const s = ghostRef.current?.style;\n    s.left = x * scale + 'px';\n    s.top = y * scale + 'px';\n    if (e.buttons) onClick(e);\n  };\n\n  const cx = innerWidth / 2 - xCoord * scale;\n  const cy = innerHeight / 2 - yCoord * scale;\n\n  return (\n    <div\n      className=\"world\"\n      onClick={selectedTileTypeId ? onClick : undefined}\n      onMouseMove={selectedTileTypeId ? onMouseMove : undefined}\n    >\n      <div style={{transform: `translate(${cx}px,${cy}px)`}}>\n        {Object.entries(world)\n          .filter(([key, t]) => {\n            if (!tileTypeIndex[t.tileType]) {\n              console.log('BAD DATA', key, t); // TODO: delete the ones that get logged out here\n              return false;\n            }\n            return true;\n          })\n          .map(([key, {x, y, tileType}]) => (\n            <div\n              key={key}\n              className=\"tile\"\n              style={{\n                left: x * scale + 'px',\n                top: y * scale + 'px',\n                ...getBackground(tileTypeIndex[tileType]),\n              }}\n            />\n          ))}\n\n        {selectedTileTypeId && (\n          <div\n            ref={ghostRef}\n            className=\"ghost tile\"\n            style={getBackground(tileTypeIndex[selectedTileTypeId])}\n          ></div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import './toolbar.css';\nimport {getBackground} from './WorldEditor';\n\nexport const Toolbar = ({\n  tileTypes,\n  selectedTileTypeId,\n  setSelectedTileTypeId,\n  showTileTypeEditor,\n  setShowTileTypeEditor,\n}) => (\n  <div className=\"toolBar\">\n    {Object.values(tileTypes)\n      .sort((a, b) => a.order - b.order)\n      .map((type) => (\n        <div\n          key={type.label}\n          className={\n            'tileType' + (selectedTileTypeId === type.id ? ' selected' : '')\n          }\n          style={getBackground(type)}\n          title={\n            showTileTypeEditor ? '' : 'Double click to edit tile properties.'\n          }\n          onClick={() => {\n            setShowTileTypeEditor(false);\n            setSelectedTileTypeId(type.id);\n          }}\n          onDoubleClick={() =>\n            type.id && !type.id.startsWith('_') && setShowTileTypeEditor(true)\n          }\n        >\n          <label>{type.label}</label>\n        </div>\n      ))}\n  </div>\n);\n","import {useEffect} from 'react';\nimport {useStatePersist} from './useStatePersist';\n\nconst mapping = {\n  KeyS: 'down',\n  KeyA: 'left',\n  KeyW: 'up',\n  KeyD: 'right',\n  ArrowUp: 'up',\n  ArrowDown: 'down',\n  ArrowLeft: 'left',\n  ArrowRight: 'right',\n};\n\nconst MOVE_AMOUNT = 4;\n\nexport const useCoords = (initialX = 0, initialY = 0) => {\n  const [xCoord, setXCoord] = useStatePersist('xCoord', initialX);\n  const [yCoord, setYCoord] = useStatePersist('yCoord', initialY);\n\n  useEffect(() => {\n    const onkeyDown = (e) => {\n      if (e.target !== document.body) return;\n      const dir = mapping[e.code];\n      if (dir === 'up') setYCoord((y) => y - MOVE_AMOUNT);\n      if (dir === 'down') setYCoord((y) => y + MOVE_AMOUNT);\n      if (dir === 'left') setXCoord((x) => x - MOVE_AMOUNT);\n      if (dir === 'right') setXCoord((x) => x + MOVE_AMOUNT);\n    };\n    window.addEventListener('keydown', onkeyDown);\n    return () => {\n      window.removeEventListener('keydown', onkeyDown);\n    };\n  }, []);\n\n  return {xCoord, yCoord, setXCoord, setYCoord};\n};\n","import {useEffect, useRef} from 'react';\n\nexport const AutoHeightText = (props) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const s = ref.current.style;\n    s.transition = 'all 0s';\n    s.height = '1px';\n    s.height = ref.current.scrollHeight + 'px';\n  });\n\n  return <textarea {...props} ref={ref} />;\n};\n","import {useEffect, useState} from 'react';\nimport {listen, update} from '../firebase';\nimport {guid} from '../utils';\nimport {AutoHeightText} from './AutoHeightText';\nimport './todos.css';\n\nconst listenToTodos = (onChange, onError) => listen('todos', onChange, onError);\n\nconst changeValue = (key, value, onError) =>\n  update({[`todos/${key}/value`]: value}, onError);\n\nconst remove = (key, onError) => update({[`todos/${key}`]: null}, onError);\n\nconst move = (index, arr, dir, onError) => {\n  const [thisKey, {order: thisOrder}] = arr[index];\n  const [nextKey, {order: nextOrder}] = arr[index + dir];\n  update(\n    {\n      [`todos/${thisKey}/order`]: nextOrder,\n      [`todos/${nextKey}/order`]: thisOrder,\n    },\n    onError\n  );\n};\n\nconst addTodo = (index, onError) =>\n  update({[`todos/${guid()}`]: {value: 'New item', order: index}}, onError);\n\nconst changeChecked = (key, checked, onError) =>\n  update({[`todos/${key}/checked`]: checked}, onError);\n\nexport const Todos = ({onError}) => {\n  const [todos, setTodos] = useState([]);\n  useEffect(() => listenToTodos(setTodos, onError), []);\n  const items = Object.entries(todos).sort((a, b) => a[1].order - b[1].order);\n  return (\n    <div className=\"todos\">\n      {items.map(([key, {value, checked = false}], index, arr) => (\n        <div key={key}>\n          <input\n            type=\"checkbox\"\n            checked={checked}\n            onChange={(e) => changeChecked(key, e.target.checked, onError)}\n          />\n          {checked ? (\n            <span className=\"done\">{value}</span>\n          ) : (\n            <AutoHeightText\n              title=\"Edit Text\"\n              value={value}\n              onChange={(e) => changeValue(key, e.target.value, onError)}\n            />\n          )}\n          <a\n            title=\"Move Up\"\n            style={{visibility: index === 0 ? 'hidden' : 'visible'}}\n            onClick={() => move(index, arr, -1, onError)}\n          >\n            ↑\n          </a>\n          <a\n            title=\"Move Down\"\n            style={{\n              visibility: index === arr.length - 1 ? 'hidden' : 'visible',\n            }}\n            onClick={() => move(index, arr, 1, onError)}\n          >\n            ↓\n          </a>\n          <a\n            title=\"Delete\"\n            onClick={() => {\n              if (\n                checked ||\n                confirm(`Are you sure you want to delete \"${value}\"?`)\n              ) {\n                remove(key, onError);\n              }\n            }}\n          >\n            x\n          </a>\n        </div>\n      ))}\n      <button onClick={() => addTodo(items.length, onError)}>\n        Add New Item\n      </button>\n    </div>\n  );\n};\n","import {logOut} from '../firebase';\n\nexport const Nav = ({user, setScale, zoomAmt, userIndex, children}) => (\n  <nav>\n    {user && (\n      <div style={{float: 'right'}}>\n        <button onClick={() => setScale((s) => Math.round(s * zoomAmt))}>\n          <i className=\"fa-solid fa-magnifying-glass-plus\"></i>\n        </button>\n        <button onClick={() => setScale((s) => Math.round(s / zoomAmt))}>\n          <i className=\"fa-solid fa-magnifying-glass-minus\"></i>\n        </button>\n        <a\n          className=\"button\"\n          href={location.href.replace(/\\?.*/, '')}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <i className=\"fa-solid fa-play\"></i> Play\n        </a>\n        Hi, {userIndex[user.email]?.name || user.email}! (\n        <a onClick={logOut}>log out</a>)\n      </div>\n    )}\n    <b>Game Editor</b>\n\n    {children}\n  </nav>\n);\n","const TextField = ({value = '', onChange}) => (\n  <input type=\"text\" value={value} onChange={(e) => onChange(e.target.value)} />\n);\n\nconst NumberField = ({value = '', onChange}) => (\n  <input\n    type=\"number\"\n    value={value}\n    onChange={(e) => onChange(e.target.value)}\n  />\n);\n\nconst Checkbox = ({value = false, onChange}) => (\n  <input\n    type=\"checkbox\"\n    checked={value}\n    onChange={(e) => onChange(e.target.checked)}\n  />\n);\n\nconst inputs = {\n  text: TextField,\n  number: NumberField,\n  checkbox: Checkbox,\n};\n\nexport const FormThing = ({fields, data, onChange}) =>\n  fields.map(({prop, label, type, info}) => {\n    const Field = inputs[type];\n    return (\n      <div key={prop} title={info}>\n        <label>{label}</label>\n        <Field value={data?.[prop]} onChange={(val) => onChange(val, prop)} />\n      </div>\n    );\n  });\n","import {updateWithHistory} from '../firebase';\nimport {objToArr} from '../utils';\nimport {FormThing} from './FormThing';\nimport './tileTypeEditor.css';\n\nconst fields = [\n  {\n    prop: 'label',\n    label: 'Label',\n    type: 'text',\n    info: 'The label you see in the tool bar below.',\n  },\n  {\n    prop: 'image',\n    label: 'Image URL',\n    type: 'text',\n    info: 'The image. uhduhhhh',\n  },\n  {\n    prop: 'color',\n    label: 'Color',\n    type: 'text',\n    info: 'The color to use if there is no image',\n  },\n  {\n    prop: 'healing',\n    label: 'Healing',\n    type: 'number',\n    info: 'How much does it heal (or hurt) when you eat/touch it (per frame)?',\n  },\n  {prop: 'edible', label: 'Edible', type: 'checkbox', info: 'Can you eat it?'},\n  {\n    prop: 'diggable',\n    label: 'Diggable',\n    type: 'checkbox',\n    info: 'Can you dig it?',\n  },\n  {\n    prop: 'collectible',\n    label: 'Collectible',\n    type: 'checkbox',\n    info: 'Can you collect it?',\n  },\n  {\n    prop: 'movable',\n    label: 'Movable',\n    type: 'checkbox',\n    info: 'Can you push it?',\n  },\n  {\n    prop: 'order',\n    label: 'Order',\n    type: 'number',\n    info: 'The order it shows up in the toolbar below',\n  },\n  // {prop: 'movement', label: 'Movement', type: 'select', }\n];\n\nexport const TileTypeEditor = ({\n  selectedTileTypeId,\n  tileTypes,\n  user,\n  onError,\n}) => {\n  const selectedTileType = objToArr(tileTypes).find(\n    (el) => el.id === selectedTileTypeId\n  );\n\n  return (\n    selectedTileType && (\n      <div className=\"tileTypeEditor\">\n        <FormThing\n          fields={fields}\n          data={selectedTileType}\n          onChange={(value, prop) => {\n            updateWithHistory(\n              {[`tileTypes/${selectedTileType.key}/${prop}`]: value},\n              user,\n              onError\n            );\n          }}\n        />\n      </div>\n    )\n  );\n};\n","import './pane.css';\n\nexport const Pane = ({className, hide, label, children}) => (\n  <div className={`pane ${className}`}>\n    <header>\n      <a onClick={hide}>[x]</a>\n      <strong>{label}</strong>\n    </header>\n    {children}\n  </div>\n);\n","import {useEffect, useState} from 'react';\nimport {listen, updateWithHistory} from '../firebase';\nimport {FormThing} from './FormThing';\nimport './gameConfig.css';\n\nconst useConfig = (onError) => {\n  const [config, setConfig] = useState();\n  useEffect(() => listen('gameConfig', setConfig, onError), []);\n  return config;\n};\n\nconst fields = [\n  {\n    prop: 'digSpeed',\n    label: 'Wombat Digging Speed',\n    type: 'number',\n    info: 'How fast much can you dig in one frame?',\n  },\n  {\n    prop: 'eatSpeed',\n    label: 'Wombat Eating Speed',\n    type: 'number',\n    info: 'How fast much can you eat in one frame?',\n  },\n  {\n    prop: 'gravity',\n    label: 'Gravity',\n    type: 'number',\n    info: 'How strong is gravity?',\n  },\n  {\n    prop: 'health',\n    label: 'Wombat Starting Health',\n    type: 'number',\n    info: 'How much health do you start with?',\n  },\n  {\n    prop: 'jumpPower',\n    label: 'Wombat Jumping Power',\n    type: 'number',\n    info: 'How much jumping power do you start with?',\n  },\n  {\n    prop: 'moveSpeed',\n    label: 'Wombat Walking Speed',\n    type: 'number',\n    info: 'How fast can you move?',\n  },\n  {\n    prop: 'moveDeceleration',\n    label: 'Wombat Deceleration',\n    type: 'number',\n    info: 'How fast can you slow down?',\n  },\n  {\n    prop: 'magmaDelay',\n    label: 'Magma Delay',\n    type: 'number',\n    info: 'Number of frames between magma movements',\n  },\n];\n\nexport const GameConfig = ({onError, user}) => {\n  const config = useConfig(onError);\n  return (\n    <div className=\"gameConfig\">\n      <FormThing\n        fields={fields}\n        data={config}\n        onChange={(value, prop) => {\n          updateWithHistory({[`gameConfig/${prop}`]: value}, user, onError);\n        }}\n      />\n    </div>\n  );\n};\n","import {useEffect} from 'react';\nimport {debounce} from '../utils';\n\nconst setHash = debounce((...args) => {\n  location.hash = args.join('/');\n}, 1000);\n\nexport const useLocationHash = ({\n  xCoord,\n  yCoord,\n  scale,\n  setXCoord,\n  setYCoord,\n  setScale,\n}) => {\n  useEffect(() => {\n    setHash(xCoord, yCoord, scale);\n    return setHash.cancel;\n  }, [scale, xCoord, yCoord]);\n\n  useEffect(() => {\n    const onHashChange = () => {\n      const match = location.hash?.match(/^#(\\d+)\\/(\\d+)\\/(\\d+)$/);\n      if (!match) return;\n      const [, x, y, scale] = match.map(Number);\n      setXCoord(x);\n      setYCoord(y);\n      setScale(scale);\n    };\n    window.addEventListener('hashchange', onHashChange);\n    return () => {\n      window.removeEventListener('hashchange', onHashChange);\n    };\n  }, []);\n};\n","import {ErrorBanner} from './ErrorBanner';\nimport {Chat} from './Chat';\nimport {useErrors} from '../hooks/useErrors';\nimport {useEffect, useState} from 'react';\n\nimport {Login} from './Login';\nimport {useUser} from '../hooks/useUser';\nimport {useUserIndex} from '../hooks/useUserIndex';\nimport {Toolbar} from './Toolbar';\nimport {WorldEditor} from './WorldEditor';\nimport {useTileTypes} from '../hooks/useTileTypes';\nimport {useCoords} from '../hooks/useCoords';\nimport {Todos} from './Todos';\nimport {useStatePersist} from '../hooks/useStatePersist';\nimport {useWorld} from '../hooks/useWorld';\nimport {Nav} from './Nav';\nimport {TileTypeEditor} from './TileTypeEditor';\nimport {makePanes} from '../utils/makePanes';\nimport {GameConfig} from './GameConfig';\nimport './App.css';\nimport {useLocationHash} from '../hooks/useLocationHash';\n\nconst zoomAmt = 1.25;\n\nconst paneConfigs = [\n  {key: 'chat', label: 'Chat', icon: 'message'},\n  {key: 'todos', label: 'Todos', icon: 'list-check'},\n  {\n    key: 'gameConfig',\n    label: 'Config',\n    icon: 'toolbox',\n  },\n  {key: 'tte', label: 'Tile Type Editor', hideButton: true},\n  {key: 'debug', label: 'Debug', icon: 'bug'},\n];\n\nexport const App = () => {\n  const [errors, onError, clearError] = useErrors();\n\n  // firebase state\n  const user = useUser();\n  const userIndex = useUserIndex(onError);\n  const tileTypes = useTileTypes(onError);\n  const world = useWorld(onError);\n\n  // local state\n  const [selectedTileTypeId, setSelectedTileTypeId] = useState();\n  const {xCoord, yCoord, setXCoord, setYCoord} = useCoords(16, 4);\n  const [scale, setScale] = useStatePersist('scale', 32);\n\n  // pane toggles\n  const Panes = makePanes(paneConfigs);\n\n  useEffect(() => {\n    // syncronize scale in css as var(--scale)\n    document.documentElement.style.setProperty('--scale', scale + 'px');\n  }, [scale]);\n\n  useLocationHash({xCoord, yCoord, scale, setXCoord, setYCoord, setScale});\n\n  return (\n    <>\n      <Nav {...{user, scale, setScale, zoomAmt, userIndex}}>\n        {Object.values(Panes).map(({button}) => button)}\n      </Nav>\n\n      <ErrorBanner errors={errors} clearError={clearError} />\n\n      {user ? (\n        <div className=\"appContainer\">\n          <Panes.chat.pane>\n            <Chat onError={onError} user={user} userIndex={userIndex} />\n          </Panes.chat.pane>\n\n          <Panes.todos.pane>\n            <Todos onError={onError} />\n          </Panes.todos.pane>\n\n          <Panes.debug.pane>\n            <textarea\n              readOnly\n              value={JSON.stringify(\n                {\n                  xCoord,\n                  yCoord,\n                  scale,\n                  selectedTileTypeId,\n                  errors,\n                  user,\n                  // tileTypeIndex,\n                  // userIndex,\n                  // world,\n                },\n                null,\n                2\n              )}\n            />\n          </Panes.debug.pane>\n\n          {selectedTileTypeId &&\n            tileTypes &&\n            Object.values(tileTypes).some(\n              (t) => t.id === selectedTileTypeId\n            ) && (\n              <Panes.tte.pane>\n                <TileTypeEditor\n                  selectedTileTypeId={selectedTileTypeId}\n                  tileTypes={tileTypes}\n                  user={user}\n                  onError={onError}\n                />\n              </Panes.tte.pane>\n            )}\n\n          <Panes.gameConfig.pane>\n            <GameConfig onError={onError} user={user} />\n          </Panes.gameConfig.pane>\n\n          {tileTypes && (\n            <div className=\"toolContainer\">\n              <Toolbar\n                {...{\n                  tileTypes,\n                  selectedTileTypeId,\n                  setSelectedTileTypeId,\n                  showTileTypeEditor: Panes.tte.show,\n                  setShowTileTypeEditor: Panes.tte.setShow,\n                }}\n              />\n            </div>\n          )}\n\n          {world && tileTypes && (\n            <div className=\"worldEditorContainer\">\n              <WorldEditor\n                {...{\n                  world,\n                  selectedTileTypeId,\n                  tileTypes,\n                  onError,\n                  xCoord,\n                  yCoord,\n                  scale,\n                  user,\n                }}\n              />\n            </div>\n          )}\n        </div>\n      ) : (\n        <Login onError={onError} />\n      )}\n    </>\n  );\n};\n","import {Pane} from '../Components/Pane';\nimport {useStatePersist} from '../hooks/useStatePersist';\n\nexport const makePanes = (config) =>\n  Object.fromEntries(\n    config.map(({key, label, icon, hideButton}) => {\n      const [show, setShow] = useStatePersist('show' + label, false);\n\n      const button = !hideButton && (\n        <button\n          key={key}\n          className={show ? 'active' : ''}\n          onClick={() => setShow((s) => !s)}\n        >\n          <i className={`fa-solid fa-${icon}`} /> {label}\n        </button>\n      );\n\n      const pane = ({children}) =>\n        show && (\n          <Pane\n            label={label}\n            className={`${key}Container`}\n            hide={() => setShow(false)}\n          >\n            {children}\n          </Pane>\n        );\n\n      return [key, {pane, button, show, setShow}];\n    })\n  );\n","import {useState} from 'react';\nimport {dissoc, guid} from '../utils';\n\nexport const useErrors = () => {\n  const [errors, setErrors] = useState({});\n  const onError = (msg) => {\n    setErrors((e) => ({...e, [guid()]: msg}));\n  };\n  const clearError = (key) => setErrors((e) => dissoc(key, e));\n  return [errors, onError, clearError];\n};\n","import {useEffect, useState} from 'react';\nimport {listenUser} from '../firebase';\n\nexport const useUser = () => {\n  const [user, setUser] = useState();\n  useEffect(() => listenUser(setUser), []);\n  return user;\n};\n","import {useEffect, useState} from 'react';\nimport {listen} from '../firebase';\n\nexport const useTileTypes = (onError) => {\n  const [tileTypes, setTileTypes] = useState();\n  useEffect(() => listen('tileTypes', setTileTypes, onError), []);\n  return tileTypes;\n};\n","import {useEffect, useState} from 'react';\nimport {listen} from '../firebase';\n\nexport const useWorld = (onError) => {\n  const [world, setWorld] = useState({});\n  useEffect(() => listen('world', setWorld, onError), []);\n  return world;\n};\n","import React from 'react';\nimport {createRoot} from 'react-dom/client';\nimport {App} from './Components/App';\nimport './index.css';\n// import reportWebVitals from './reportWebVitals';\n\ndocument.title = 'Mortal Wombat Editor';\n\ncreateRoot(document.querySelector('#root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","import {initializeApp} from 'firebase/app';\nimport {\n  ref,\n  getDatabase,\n  update as _update,\n  onValue,\n  off,\n  get,\n  child,\n  serverTimestamp,\n} from 'firebase/database';\nimport {\n  getAuth,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\nimport {guid} from './utils';\n\ninitializeApp({\n  apiKey: 'AIzaSyBEserPzSUos4MT3XRO8NKAO2oVk1-LS-I',\n  authDomain: 'mortal-wombat-8c76a.firebaseapp.com',\n  projectId: 'mortal-wombat-8c76a',\n  storageBucket: 'mortal-wombat-8c76a.appspot.com',\n  messagingSenderId: '929181149015',\n  appId: '1:929181149015:web:33a7f450bcdbb06ae64012',\n  measurementId: 'G-JL6HCMYYBS',\n});\n\n/*\n\nData:\nhttps://console.firebase.google.com/project/mortal-wombat-8c76a/database/mortal-wombat-8c76a-default-rtdb/data\nData Docs: https://firebase.google.com/docs/database/web/read-and-write?hl=en&authuser=0\n\nUsers:\nhttps://console.firebase.google.com/project/mortal-wombat-8c76a/authentication/users\nUser Docs: https://firebase.google.com/docs/auth/web/manage-users\n\n\n*/\n\nconst db = getDatabase();\nconst auth = getAuth();\nconst dbRef = ref(db);\n\n// {path1: val1, path2: val2}\nexport const update = (updates, onError) => {\n  try {\n    console.log('updates', updates);\n    return _update(dbRef, updates);\n  } catch (e) {\n    console.error(e);\n    onError(e.message);\n  }\n};\n\nexport const updateWithHistory = (data, user, onError) =>\n  update(\n    {\n      ...data,\n      [`history/${guid()}`]: {\n        update: JSON.stringify(data),\n        user: user.email,\n        tstamp: serverTimestamp(),\n      },\n    },\n    onError\n  );\n\nexport const loadData = async (things) =>\n  Object.fromEntries(\n    await Promise.all(\n      things.map(async (t) => [t, (await get(child(dbRef, t))).val()])\n    )\n  );\n\nexport const listen = (pathStr, onChange, onError) => {\n  try {\n    const r = ref(db, pathStr);\n    onValue(r, (snapshot) => onChange(snapshot.val()));\n    return () => off(r);\n  } catch (e) {\n    console.error(e);\n    onError(e.message);\n  }\n};\n\n// export const createUser = async (email, pwd) => {\n//   try {\n//     const result = await createUserWithEmailAndPassword(auth, email, pwd);\n//     return result.user;\n//   } catch (e) {\n//     console.error(e);\n//     return e.message;\n//   }\n// };\n\nexport const logIn = (email, pwd) =>\n  signInWithEmailAndPassword(auth, email, pwd);\n\nexport const listenUser = (onChange) => onAuthStateChanged(auth, onChange);\n\nexport const logOut = () => signOut(auth);\n","// export const assocPath = ([first, ...rest], val, obj) => {\n//   const copy = Array.isArray(obj) ? [...obj] : {...obj};\n//   copy[first] = rest.length ? assocPath(rest, val, copy[first]) : val;\n//   return copy;\n// };\n\nexport const dissoc = (key, obj) => {\n  const copy = {...obj};\n  delete copy[key];\n  return copy;\n};\n\nexport const guid = () =>\n  Date.now().toString(36) + ':' + Math.random().toString(36).slice(2);\n\nexport const groupBy = (func, arr) => {\n  const res = {};\n  for (const el of arr) {\n    const key = func(el);\n    (res[key] = res[key] || []).push(el);\n  }\n  return res;\n};\n\nexport const indexBy = (func, arr) => {\n  const res = {};\n  for (const el of arr) res[func(el)] = el;\n  return res;\n};\n\nexport const objToArr = (obj = {}) =>\n  Object.entries(obj).map(([key, el]) => ({key, ...el}));\n\nexport const debounce = (func, delay) => {\n  let timeout;\n  const f = (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), delay);\n  };\n  f.cancel = () => clearTimeout(timeout);\n  return f;\n};\n\n// export const throttle = (func, delay) => {\n//   let prev = 0;\n//   return (...args) => {\n//     const now = Date.now();\n//     if (now - prev > delay) {\n//       prev = now;\n//       return func(...args);\n//     }\n//   };\n// };\n\n// const memoize = (func) => {\n//   const cache = {};\n//   return (...args) => {\n//     const key = JSON.stringify(args);\n//     if (cache[key] === undefined) cache[key] = func(...args);\n//     return cache[key];\n//   };\n// };\n"],"names":["ErrorBanner","errors","clearError","Object","keys","length","className","entries","map","key","err","onClick","useStatePersist","initial","useState","undefined","localStorage","str","defaultVal","JSON","parse","e","console","error","parseJSON","val","setVal","useEffect","stringify","toTime","tstamp","d","Date","h","getHours","getMinutes","Chat","onError","user","userIndex","messages","setMessages","msg","setMsg","scrollBoxRef","useRef","inputRef","onChange","listen","listenToMessages","newMessages","setTimeout","current","scrollTop","scrollHeight","groups","groupBy","toLocaleDateString","getDate","objToArr","ref","focus","date","i","arr","message","name","placeholder","value","target","replace","onKeyUp","update","guid","trim","email","serverTimestamp","sendMessage","Login","setEmail","password","setPassword","style","width","margin","onSubmit","preventDefault","logIn","type","useUserIndex","setUserIndex","users","indexBy","u","values","indexUsers","getCoords","scale","xCoord","yCoord","x","Math","floor","clientX","innerWidth","y","clientY","innerHeight","getBackground","background","image","color","WorldEditor","world","tileTypes","selectedTileTypeId","ghostRef","tileTypeIndex","useMemo","t","id","currentType","tileType","updateWithHistory","placeTile","cx","cy","onMouseMove","s","left","top","buttons","transform","filter","log","Toolbar","setSelectedTileTypeId","showTileTypeEditor","setShowTileTypeEditor","sort","a","b","order","title","onDoubleClick","startsWith","label","mapping","KeyS","KeyA","KeyW","KeyD","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","AutoHeightText","props","transition","height","move","index","dir","thisKey","thisOrder","nextKey","nextOrder","Todos","todos","setTodos","listenToTodos","items","checked","changeChecked","changeValue","visibility","confirm","remove","addTodo","Nav","setScale","zoomAmt","children","float","round","href","location","rel","logOut","inputs","text","number","checkbox","FormThing","fields","data","prop","info","Field","TileTypeEditor","selectedTileType","find","el","Pane","hide","GameConfig","config","setConfig","useConfig","setHash","debounce","args","hash","join","paneConfigs","icon","hideButton","App","setErrors","dissoc","useErrors","setUser","listenUser","useUser","setTileTypes","useTileTypes","setWorld","useWorld","initialY","setXCoord","setYCoord","onkeyDown","document","body","code","window","addEventListener","removeEventListener","useCoords","Panes","fromEntries","show","setShow","button","pane","documentElement","setProperty","cancel","onHashChange","match","Number","useLocationHash","chat","debug","readOnly","some","tte","gameConfig","createRoot","querySelector","render","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getDatabase","auth","getAuth","dbRef","updates","_update","loadData","things","Promise","all","get","child","pathStr","r","onValue","snapshot","off","pwd","signInWithEmailAndPassword","onAuthStateChanged","signOut","obj","copy","now","toString","random","slice","func","res","push","delay","timeout","f","clearTimeout"],"sourceRoot":""}